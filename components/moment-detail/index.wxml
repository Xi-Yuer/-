<wxs src="../../utils/time.wxs" module="Time"></wxs>
<view class="moment">
    <!-- 用户 -->
    <view class="user">
        <view class="avatarUrl">
            <image src="{{moment.author.avatarUrl}}" mode="aspectFill"></image>
        </view>
        <view class="momentInfo">
            <view class="avatarName">{{moment.author.name}}</view>
            <view class="momentTime">{{Time.getTime(moment.updateTime)}}</view>
        </view>
    </view>
    <!-- 文字 -->
    <view class="momentText" bindtap="navToMoment">
        <text>{{moment.content}}</text>
    </view>
    <!-- 图片 -->
    <view class="momentImg" wx:if="{{moment.images}}">
        <van-col span="6" gutter="10">
            <block wx:for="{{moment.images}}" wx:key="index">
                <van-image bind:click="onClickShow" data-index="{{index}}" width="80" height="80" src="{{item}}" class="momenItemImg" />
            </block>
            <van-overlay show="{{ show }}" bind:click="onClickHide">
                <view class="wrapper">
                    <image mode="aspectFit" block src="{{moment.images[imgIndex]}}" catch:tap="noop"></image>
                </view>
            </van-overlay>
        </van-col>
    </view>
    <!-- 评论 -->
    <area-header title="评论" />
    <block wx:for="{{moment.comments}}" wx:key="index">
        <comment comment="{{item}}" />
    </block>
</view>